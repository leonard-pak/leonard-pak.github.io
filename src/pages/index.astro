---
import HorizontalCard from "@components/cards/HorizontalCard.astro";
import BaseLayout from "@layouts/BaseLayout.astro";
import createSlug from "@lib/createSlug";
import { getCollection } from "astro:content";

const last_projects = (await getCollection("projects"))
  .sort((a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf())
  .slice(0, 3);
---

<BaseLayout sideBarActiveItemID="home">
  <div class="pb-12 mt-5">
    <div class="text-xl py-1">–ü—Ä–∏–≤–µ—Ç üëã</div>
    <div class="text-5xl font-bold">–Ø, –õ–µ–æ–Ω–∞—Ä–¥ –ü–∞–∫,</div>
    <div class="text-3xl py-3 font-bold">–ò–Ω–∂–µ–Ω–µ—Ä-–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫</div>
    <div class="py-2">
      <text class="text-lg">
        –ó–∞–Ω–∏–º–∞—é—Å—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–æ–π <b>—Ä–æ–±–æ—Ç–æ—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö —Å–∏—Å—Ç–µ–º</b>, <b
          >web-—Å–µ—Ä–≤–∏—Å–æ–≤</b
        > –∏ –≤—Å—è–∫–∏—Ö –∂–µ–ª–µ–∑–æ–∫. –°–º–µ–ª–æ –Ω–∞–∑—ã–≤–∞—é —Å–µ–±—è <i>fullstack</i> —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–º, –æ–¥–Ω–∞–∫–æ
        <b>backend</b> –≤—Å—ë –∂–µ –±–ª–∏–∂–µ –∫ ‚ù§Ô∏è. –¢—É—Ç –≤—ã –º–æ–∂–µ—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –º–æ–∏ –ø—Ä–æ–µ–∫—Ç—ã –∏
        —É–∑–Ω–∞—Ç—å –±–æ–ª—å—à–µ –æ–±–æ –º–Ω–µ.
      </text>
    </div>
    <div class="mt-8">
      <a
        class="btn btn-block btn-outline btn-accent"
        href="https://t.me/mrleonard"
        target="_blank"
      >
        –í—Å–µ–≥–¥–∞ –Ω–∞ —Å–≤—è–∑–∏!</a
      >
    </div>
  </div>

  <div>
    <div class="text-3xl w-full font-bold mb-2">
      –ú–æ–∏ –ø–æ—Å–ª–µ–¥–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç—ã {"</>"}
    </div>
  </div>

  {
    last_projects.map((project) => (
      <>
        <HorizontalCard
          title={project.data.title}
          img={project.data.heroImage}
          desc={project.data.description}
          url={"/projects/" + createSlug(project.data.title, project.slug)}
          target="_self"
          badge={project.data.badge}
        />
        <div class="divider my-0" />
      </>
    ))
  }
</BaseLayout>
